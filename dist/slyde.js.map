{"mappings":"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","sources":["./home/blkr/src/js/slyde/node_modules/.pnpm/@parcel/scope-hoisting@2.0.0-beta.1/node_modules/@parcel/scope-hoisting/lib/helpers.js","./node_modules/xeer-js/core/functions.js","./node_modules/xeer-js/core/types.js","./node_modules/xeer-js/dom/styles.js","./node_modules/xeer-js/core/logging.js","./node_modules/xeer-js/core/scope.js","./node_modules/xeer-js/core/stream.js","./node_modules/xeer-js/dom/event.js","./node_modules/xeer-js/dom/classes.js","./node_modules/xeer-js/dom/query.js","./slyde.js"],"sourcesContent":[null,"function bodyOf(func) {\n    return func.toString().match(/{[\\w\\W]*}/)[0]\n}\n\nfunction funcBodyEquals(f1, f2) {\n    return bodyOf(f1) === bodyOf(f2)\n}\n\nfunction throttle(func, intervalMs) {\n    var ___last___ = new Date().getTime();\n    function throttled(args) {\n        if (new Date().getTime()-___last___ >= intervalMs) {\n            ___last___ = new Date().getTime();\n            func.call(this, args);\n        }\n    }\n    return throttled;\n}\n\nfunction debounce(func, afterMs) {\n    var ___timeout___ = null;\n\n    function caller(_this, args) {\n        func.apply(_this, args);\n    }\n\n    function flush(args) {\n        func(args);\n    }\n\n    function debounced(...args) {\n        clearTimeout(___timeout___);\n        ___timeout___ = setTimeout(caller, afterMs, this, args)\n    }\n\n    return debounced\n}\n\nmodule.exports = {\n    funcBodyEquals,\n    throttle,\n    debounce\n}","function isUnd(x) {\n    return x !== null && x === undefined;\n}\n\nfunction isNull(x) {\n    return x === null;\n}\n\nfunction isVal(x) {\n    return !isUnd(x) && !isNull(x);\n}\n\nfunction isNum(x) {\n    return typeof x === \"number\";\n}\n\nfunction isStr(x) {\n    return typeof x === \"string\" || x instanceof String;\n}\n\nfunction isFun(x) {\n    return typeof x === \"function\";\n}\n\nfunction isObj(x) {\n    return typeof x === \"object\";\n}\n\nfunction isArr(x) {\n    return x instanceof Array\n}\n\nfunction isPrim(x) {\n    return isVal(x) && !isObj(x) && !isFun(x);\n}\n\nfunction isList(x) {\n    return isVal(x.length) && isFun(x.item)\n}\n\nfunction isMutableList(x) {\n    return isVal(x.length) && isFun(x.item) && isFun(x.add)\n}\n\nfunction isEl(x) {\n    return x instanceof Element || x instanceof HTMLElement || x instanceof Node;\n}\n\nfunction isEls(x) {\n    return x instanceof HTMLCollection || x instanceof NodeList;\n}\n\nfunction hasField(obj, field, pred) {\n    if (!isVal(obj)) return undefined;\n    if (isFun(pred)) {\n        return pred(obj[field]);\n    }\n    return obj.hasOwnProperty(field);\n}\n\nfunction isEmpty(x) {\n    if (hasField(x, 'length')) return x.length <= 0;\n    if (isFun(x)) return false;\n    if (isObj(x)) return Object.keys(x).length <= 0\n    return true;\n}\n\n/**\n *\n * @param src {Object | String[]}\n * @return {(array)}\n * @constructor\n */\nfunction Enum(src) {\n    let c = 0;\n    let MAP = {};\n    for (let i of Object.keys(src)) {\n        MAP[MAP[c] = i] = c++;\n    }\n    return MAP;\n}\n\nclass Set {\n    items = [];\n\n    constructor(items) {\n        this.items = items\n    }\n\n    static of(src) {\n        return new Set(src)\n    }\n\n    add(item) {\n        if (this.items.indexOf(item) < 0) {\n            this.items.push(item)\n        }\n    }\n\n    contains(item) {\n        return this.items.indexOf(item) >= 0\n    }\n\n    remove(item) {\n        this.items.splice(this.items.indexOf(item), 1);\n    }\n}\n\nfunction dict(...args) {\n    let o = {};\n    for (let i = 0; i < args.length; i++) {\n        if (i % 2 !== 0) continue;\n        o[args[i]] = args[i + 1]\n    }\n    return o;\n}\n\nmodule.exports = {\n    isUnd, isNull, isVal,\n    isNum, isStr, isFun,\n    isObj, isArr, isPrim,\n    isList, isMutableList,\n    isEl, isEls, hasField,\n    isEmpty, Enum, Set, dict\n};","// const {getAttr, setAttr, hasAttr} = require(\"../dom/attributes\")\nconst {isUnd, isStr} = require(\"../core/types\")\nconst {Filter, ForEach, contains} = require(\"../core/stream\")\n\nconst emptyStyle = ['', 'initial', 'unset', undefined, null];\n\nfunction style(e, p, v) {\n    if (isUnd(p)) {\n        // let stl = {};\n        let cs = getComputedStyle(e);\n        cs = Filter(cs, (s, n) => isStr(n)&&!contains(emptyStyle, s))\n        // ForEach(cs, (s) => stl[s] = cs[s]);\n        return cs\n    }\n    if (isUnd(v)) return e.style[p] || getComputedStyle(e)[p];\n    e.style[p] = v;\n}\n\nfunction hasStyle(e, p) {\n    let s = style(e, p);\n    return !contains(emptyStyle, s)\n}\n\nmodule.exports = {style, hasStyle}","const T = require(\"./types\");\n\nfunction __logtime__() {\n    let t = new Date();\n    return `${t.getHours()}:${t.getMinutes()}:${t.getSeconds()}:${t.getMilliseconds()}`;\n}\n\nfunction logTitle(flag) {\n    return `[${flag}] [${__logtime__()}]`;\n}\n\nfunction prepareLog(args, lt) {\n    args.reverse();\n    args.push(\"display: inline-block; font-weight: bold; color: black\", \"%c\"+lt);\n    args.reverse();\n}\n\nconst LogLevels = T.Enum({TRACE:0, INFO:0, WARN:0, ERROR:0, SILENT:0});\nconst Config = {\n    LogLevel : LogLevels.TRACE\n}\n\nfunction showTrace() {Config.LogLevel = LogLevels.TRACE;}\nfunction showInfo() {Config.LogLevel = LogLevels.INFO;}\nfunction showWarn() {Config.LogLevel = LogLevels.WARN;}\nfunction showError() {Config.LogLevel = LogLevels.ERROR;}\nfunction silent() {Config.LogLevel = LogLevels.SILENT;}\nfunction lvl(l) {\n    return Config.LogLevel !== LogLevels.SILENT && Config.LogLevel <= l\n}\nfunction trace(...args) {\n    if (!lvl(LogLevels.TRACE)) return;\n    args.reverse();\n    args.push(logTitle(\"X-TRACE\"));\n    args.reverse();    // args.push(\"\\n\");\n    console.trace.apply(X, args);\n}\n\nfunction info(...args) {\n    if (!lvl(LogLevels.INFO)) return;\n    prepareLog(args, logTitle(\"X-INFO\"));\n    console.log.apply(X, args);\n}\n\nfunction warn(...args) {\n    if (!lvl(LogLevels.WARN)) return;\n    prepareLog(args, logTitle(\"X-WARN\"));\n    console.warn.apply(X, args);\n}\n\nfunction error(...args) {\n    if (!lvl(LogLevels.ERROR)) return;\n    prepareLog(args, logTitle(\"X-ERROR\"));\n    console.error.apply(X, args);\n}\n\nmodule.exports = {\n    Config,\n    LogLevels,\n    showTrace, showInfo, showWarn, showError, silent, trace, info, warn, error\n};","const Log = require(\"./logging\")\nfunction merge(src, target) {\n    for (let k of Object.keys(src)) {\n        if ((!src[k] instanceof Array) && (typeof src[k] === \"object\")) {\n            if (!target.hasOwnProperty(k)) target[k] = {}\n            merge(src[k], target[k]);\n        } else\n            target[k] = src[k]\n    }\n    return target;\n}\nfunction mergeAll(...obj) {\n    let res = {};\n    for (let k of Object.keys(obj)) {\n        merge(obj[k], res);\n    }\n    return res;\n}\nfunction setGlobal(obj) {\n    merge(obj, global);\n}\n\nclass Extension {\n    types = []\n    pcode = \"\\n\"\n\n    constructor(types) {\n        this.types = types;\n    }\n\n    /**\n     *\n     * @param namedFunc {Function}\n     * @return {string}\n     */\n    define(namedFunc) {\n        if (!namedFunc.name) {\n            let err = `Function must have a name [Extension.define(f)]\\n<<${namedFunc}>>`;\n            Log.error(err);\n            return `\\n/**\\n *${err}\\n */`;\n        }\n        let code = \"\\n\";\n        for (let p of this.types) {\n            if (p !== undefined)\n                code += `${p.name || p}.prototype.${namedFunc.name} = `;\n        }\n        code += namedFunc.toString() + \";\\n\";\n\n        this.pcode += code;\n\n        return code\n    }\n\n    polyfill(namedFunc) {\n        if (!namedFunc.name) {\n            let err = `Extension function must have a name:\\n<<${namedFunc}>>`;\n            Log.error(err);\n            return `\\n/**\\n *${err}\\n */`;\n        }\n        let code = \"\\n\";\n        for (let p of this.types) {\n            code += `if (${p.name || p}.prototype.${namedFunc.name} === undefined) ${p.name || p}.prototype.${namedFunc.name} = ${namedFunc.toString()};\\n`;\n        }\n        this.pcode += code;\n    }\n}\n\nfunction isBrowser() {\n    return global.window !== undefined && global.document !== undefined && global.navigator !== undefined\n}\n\nif (!isBrowser()) {\n// -------------\n    global.HTMLElement = !global.HTMLElement? function HTMLElement(){}: global.HTMLElement\n    global.Element = !global.Element? function Element(){}: global.Element\n    global.Node = !global.Node? function Node(){}: global.Node\n    global.HTMLCollection = !global.HTMLCollection? function HTMLCollection(){}: global.HTMLCollection\n    global.NodeList = !global.NodeList? function NodeList(){}: global.NodeList\n// -------------\n}\n\nmodule.exports = {merge, mergeAll, setGlobal, Extension, isBrowser}","const {merge, mergeAll} = require(\"./scope\");\nconst T = require(\"./types\");\n\nif (!global._X_LOOP_BREAK_) {\n    global._X_LOOP_BREAK_ = Symbol(\"BREAK_LOOP\");\n    global._X_ANY_ = Symbol(\"ANY\");\n    global._X_ALL_ = Symbol(\"ALL\");\n}\n\nconst BREAK = global._X_LOOP_BREAK_;\nconst ANY = global._X_ANY_;\nconst ALL = global._X_ALL_;\n\nfunction item(s, i) {\n    if (!T.isVal(s)) return undefined;\n    if (T.isObj(s)) return s[i]\n    if (T.isStr(s)) return s[i]\n    if (T.isArr(s)) return s[i]\n    else return s.item(i)\n}\n\nfunction contains(s, v, k) {\n    if (!T.isArr(s) && T.isObj(s)) return s[k] === v;\n    return s.indexOf(v)>=0;\n}\n\nfunction add(src, ...v) {\n    if (T.isArr(src)) {\n        ForEach(v, (vi)=>src.push(vi))\n        // src.push(v);\n    } else if (T.isMutableList(src)) {\n        src.add(v);\n    }\n}\n\nfunction remove(src, ...it) {\n    it = FlatMap(it);\n    let any = false;\n    ForEach(it, (item)=> {\n        let idx = src.indexOf(item);\n        if (idx>=0) {\n            any = true\n            src.splice(idx, 1);\n        }\n    });\n\n    return any;\n}\n\nfunction toggle(src, ...c) {\n    if (c.length===0) return;\n    c = FlatMap(c);\n    let idx = undefined;\n    if (c.length===1){\n        if (!remove(src, c)) {\n            add(src, c[0])\n        }\n    } else {\n        c.push(c[0]);\n        let any = false;\n        ForEach(src, (cl, i)=> {\n            idx = c.indexOf(cl);\n            if (idx>=0 && c.length>(idx+1)) {\n                any = true;\n                src[i] = c[idx+1]\n            }\n        });\n        if (!any) {\n            src.push(c[0])\n        }\n    }\n}\n\nfunction objMatchOne(o, match) {\n    let m = Object.keys(match);\n    for (let k of m) {\n        // if (!T.isObj(o[k])) continue;\n        if (match[k] === ANY && o.hasOwnProperty(k)) return true;\n        if (match[k] === o[k]) return true;\n    }\n    return false\n}\n\nfunction objMatchAll(o, match) {\n    let m = Object.keys(match);\n    for (let k of m) {\n        // if (!T.isObj(o[k])) return false;\n        if (match[k] === ANY) continue;\n        if (match[k] !== o[k]) return false\n    }\n    return true\n}\n\nfunction funOrEq(f, def, inc = true) {\n    if (T.isUnd(f)) return def;\n    if (T.isFun(f)) return f;\n    else if (f instanceof RegExp) return (v)=>!T.isObj(v)?f.test(v.toString()):false;\n    else if (T.isObj(f)) {\n        if (Object.keys(f).length===0) return def;\n        return inc?(v)=>objMatchOne(v, f):(v)=>objMatchAll(v, f);\n    }\n    else return (v)=>v===f;\n}\n\nfunction funOrKey(f) {\n    if (T.isUnd(f)) return (v)=>v;\n    if (T.isFun(f)) return f;\n    if (T.isStr(f)) {\n        const key = f;\n        f = (v) => v[key];\n    }\n    throw Error(`Predicate ${f} cannot be of type ${typeof f}`)\n}\n\nfunction DeepClone(src, {skips=[], maxLevel= 999}, lvl=0) {\n    if (lvl>=maxLevel) return src;\n    let cl = T.isArr(src)?[]:{};\n    for (let k in src) {\n        if (src.hasOwnProperty(k)) {\n            if (skips && contains(skips, k)) continue;\n            let val = src[k];\n            if (!T.isPrim(val)) {\n                val = DeepClone(val, {skips, maxLevel}, lvl++);\n            }\n            if (T.isArr(cl)) {\n                cl.push(val);\n            } else {\n                cl[k] = val;\n            }\n        }\n    }\n    return cl;\n}\n\nfunction DeepConcat(o1, o2) {\n    if (T.isStr(o1)) {\n        return o1.concat(o2);\n    }\n    if (T.isArr(o1)) {\n        return o1.concat(o2);\n    }\n    let d = o1;\n    for (let k of Object.keys(o2)) {\n        if (T.isArr(o2[k])){\n            if (!T.isVal(o1[k])) o1[k] = [];\n            DeepConcat(o1[k], o2[k]);\n        } else if(T.isObj(o2[k])) {\n            if (!T.isVal(o1[k])) o1[k] = {};\n            DeepConcat(o1[k], o2[k])\n        } else\n            d[k] = o2[k];\n    }\n    return d\n}\n\nfunction ForRange(src, func, start = 0, end) {\n    if (!T.isArr(src) || !T.isStr(src)) {\n        let keys = Object.keys(src);\n        end = end || keys.length -1\n        for (let i=start; i<=end; i++) {\n            let r = func(src[keys[i]], keys[i], i, src);\n            if (r === BREAK) return i;\n        }\n        return end;\n    }\n    end = end || src.length;\n    for (let i = start; i < end; i++) {\n        let r = func(item(src,i), i, i, src);\n        if (r === BREAK) return i;\n    }\n    return end\n}\n\nfunction ForEach(src, func) {\n    if (!T.isVal(src)) return -1;\n    if (!T.isArr(src) || !T.isStr(src) || !T.isList(src)) {\n        let i = 0;\n        let keys = Object.keys(src);\n        const len = keys.length;\n        for (; i<len; i++) {\n            // let r = ;\n            const k = keys[i], v=src[k];\n            if (func(v, k, i, src) === BREAK) return i;\n        }\n        return i;\n    }\n    const len = src.length;\n    if (!T.isArr(src)) {\n        for (let i = 0; i < len; i++) {\n            const v = src[i];\n            let r = func(v, i, i, src);\n            if (r === BREAK) return i;\n        }\n    } else {\n        for (let i = 0; i < len; i++) {\n            const v = item(src,i);\n            let r = func(v, i, i, src);\n            if (r === BREAK) return i;\n        }\n    }\n    return src.length\n}\n\nfunction ForEachRTL(src, func, range=[]) {\n    if (!T.isArr(src) || !T.isStr(src)) {\n        let i = 0;\n        let keys = Object.keys(src);\n        for (let i=keys.length-1; i>=0; i--) {\n            if (i<range[1]) continue;\n            if (i>=range[0]) return i;\n            let r = func(src[keys[i]], keys[i], i, src);\n            if (r === BREAK) return i;\n        }\n        return i;\n    }\n    for (let i=src.length-1; i>=0; i--) {\n        let r = func(item(src, i), i, i, src);\n        if (r === BREAK) return i;\n    }\n    return src.length\n}\n\nfunction ArrayForEach(src, func) {\n    let arr = Array.from(src);\n    let rev = ForEach(arr, func);\n    return rev < arr.length ? arr.slice(0, rev) : arr;\n}\n\nfunction ArrayForEachRTL(src, func) {\n    let arr = Array.from(src);\n    let rev = ForEachRTL(arr, func);\n    return rev < arr.length ? arr.slice(0, rev) : arr;\n}\n\nfunction FirstIndex(src, func) {\n    func = funOrEq(func,()=>true);\n    let r;\n    ForEach(src, function (v,k,i) {\n        r = func(v, k, i);\n        if (r === true) {\n            r = i;\n            return BREAK;\n        }\n    })\n    return r;\n}\n\nfunction First(src, func) {\n    return src[FirstIndex(src, func)]\n}\n\nfunction StartsWith(src, func) {\n    func = funOrEq(func,()=>true);\n    return func(First(src))\n}\n\nfunction LastIndex(src, func) {\n    func = funOrEq(func, ()=>true);\n    let r;\n    ForEachRTL(src, function (v,k,i) {\n        r = func(v, k, i);\n        if (r === true) {\n            r = i;\n            return BREAK;\n        }\n    })\n    return r;\n}\n\nfunction Last(src, func) {\n    return src[LastIndex(src, func)]\n}\n\nfunction EndsWith(src, func) {\n    func = funOrEq(func,()=>true);\n    return func(Last(src))\n}\n\nfunction Reverse(src) {\n    if (T.isArr(src)) return src.reverse();\n    let rev = \"\";\n    ForEachRTL(src, function (it) {\n        rev+=it;\n    });\n    return rev;\n}\n\n/**\n *\n * @param src\n * @param func\n * @return {boolean}\n * @constructor\n */\nfunction Any(src, func) {\n    // if (!func){\n    //     if (T.isArr(src) || T.isStr(src)) return src.length>0;\n    //     return Object.keys(src).length>0;\n    // }\n    let fn = funOrEq(func);\n    let r = false;\n    ForEach(src, function (v, k, i, src) {\n        r = fn(v, k, i, src);\n        if (r === true) return BREAK;\n    });\n    return r;\n}\n\nfunction All(src, func) {\n    func = funOrEq(func, ()=>true);\n    let r = true;\n    ForEach(src, function (v, k, i, src) {\n        r = func(v, k, i, src);\n        if (r === false) return BREAK;\n    })\n    return r;\n}\n\nfunction filterS(src, pred, right = false){\n    pred = funOrEq(pred, ()=>true);\n    let res = \"\";\n    let loop = right? ForEachRTL: ForEach;\n    loop(src, function (v, k, i) {\n        if (!pred || pred(v, k, i, src) === true) res += v;\n    });\n    return res;\n}\n\nfunction filterO(src, pred, right = false){\n    if (T.isArr(pred)) {\n        let a = DeepClone(pred);\n        pred = (v, k, i)=>{\n            return Any(a, k);\n        }\n    } else\n        pred = funOrEq(pred,  ()=>true);\n    let res = {};\n    let loop = right? ForEachRTL: ForEach;\n    loop(src, function (v, k, i) {\n        if (pred(v, k, i, src) === true) res[k] = v;\n    });\n    return res;\n}\n\nfunction filterA(src, pred, right= false) {\n    if (T.isArr(pred)) {\n        let a = DeepClone(pred)\n        pred = (v, k, i, src)=>Any(a, i);\n    } else\n        pred = funOrEq(pred,  ()=>true);\n    let res = [];\n    const len = src.length;\n    if (!right) {\n        for (let i = 0; i < len; i++) {\n            const v = src[i]\n            if (pred(v, i, i, src) === true) {\n                res.push(v);\n            }\n        }\n    }else {\n        for (let i = len; i >= 0; i--) {\n            const v = src[i]\n            if (pred(v, i, i, src) === true) {\n                res.push(v);\n            }\n        }\n    }\n    return res;\n}\n\nfunction Filter(src, pred, right = false) {\n    if (T.isStr(src)) return filterS(src, pred, right);\n    if (T.isArr(src) || T.isList(src)) return filterA(src, pred, right);\n    return filterO(src, pred, right);\n}\n\nfunction FilterRTL(src, func) {\n    return Filter(src, func, true);\n}\n\nfunction MaxIndex(list, func) {\n    func = funOrKey(func);\n    let mx;\n    let index = -1;\n    ForEach(list, function (i, ix) {\n        let x = func(i,ix);\n        if (!mx) {\n            mx = x;\n            index = ix;\n        } else if (x>=mx) {\n            mx = x;\n            index = ix;\n        }\n    });\n    return index;\n}\n\nfunction Max(list, func) {\n    return list[MaxIndex(list, func)];\n}\n\nfunction MinIndex(list, func) {\n    func = funOrKey(func);\n    let mn;\n    let index = -1;\n    ForEach(list, function (i, ix) {\n        let x = func(i,ix);\n        if (!mn) {\n            mn = x;\n            index = ix;\n        } else if (x<=mn) {\n            mn = x;\n            index = ix;\n        }\n    });\n    return index;\n}\n\nfunction Min(list, func) {\n    return list[MinIndex(list, func)];\n}\n\nfunction mapA(src, func, right = false) {\n    let res = [];\n    let loop = right? ForEachRTL: ForEach;\n    loop(src, function (a, i) {\n        let r = func(a, i, src);\n        if (!T.isUnd(r))\n            res.push(r);\n    });\n    return res;\n}\n\nfunction mapO(src, func, right = false) {\n    let res = {};\n    let loop = right? ForEachRTL: ForEach;\n    loop(src, function (v, k, i) {\n        let r = func(v, k, i, src);\n        if (!T.isUnd(r))\n            res[k] = r\n    });\n    return res;\n}\n\nfunction Map(src, func, right = false) {\n    func = funOrEq(func,(v)=>v);\n    if (T.isArr(src)) return mapA(src, func);\n    else if (T.isObj(src)) return mapO(src, func);\n}\n\nfunction FlatMap(src, func) {\n    let res;\n    if (T.isStr(src)) res = \"\"\n    else if (T.isArr(src)) res = []\n    else res = {};\n    ForEach(src, function (a, i) {\n        let f;\n        if (!!func) {\n            f = func(a, i, src);\n        } else {\n            if (!T.isArr(res) && T.isObj(res)) {\n                f = {};\n                f[i] = a;\n            } else {\n                f = a\n            }\n        }\n        res = DeepConcat(res, f);\n    });\n    return res;\n}\n\nfunction keyValuePairs(object) {\n    let entries = [];\n    ForEach(object, (v, k)=> {\n        entries.push(T.dict(k, v));\n    });\n    return entries;\n}\n\nfunction entries(object) {\n    let entries = [];\n    ForEach(object, (v, k)=> {\n        entries.push([k, v]);\n    });\n    return entries;\n}\n\nmodule.exports = {\n    ANY, ALL, BREAK, item, contains, add, remove, toggle, objMatchOne, objMatchAll,\n    DeepClone, DeepConcat, ForRange, ForEach, ForEachRTL, ArrayForEach, ArrayForEachRTL,\n    FirstIndex, First, StartsWith, LastIndex, Last, EndsWith, Reverse, Any, All, Filter, FilterRTL,\n    Map, FlatMap, keyValuePairs, entries, spread: merge, spreadAll: mergeAll, MaxIndex, Max, MinIndex, Min\n}","const scope = require(\"../core/scope\");\nconst T = require(\"../core/types\");\nconst I = require(\"../core/stream\");\nconst L = require(\"../core/logging\");\nconst F = require(\"../core/functions\");\n\n/**\n *\n * @param target {Node|Element}\n * @param event {String|Array}\n * @param listener {Function}\n * @param options {AddEventListenerOptions?}\n */\nfunction setEvent(target, event, listener, options) {\n    if (!scope.isBrowser()) {\n        L.error(\"Events are browser only!\");\n        return\n    }\n    if (!T.isArr(event)) {\n        if (I.contains(event,' ')) {\n            event = event.split(' ').Map((it)=>it.trim())\n        } else\n            event = [event];\n    }\n    target.__EVENTS__ = target.__EVENTS__ || {};\n    I.ForEach(event,function (ev) {\n        target.__EVENTS__[ev] = target.__EVENTS__[ev] || [];\n        let f = function (e) {\n            listener(e, target);\n        };\n        if (!T.hasField(options, 'duplicates', (a)=>a)) {\n            // console.log('removing dups')\n            target.__EVENTS__[ev] = I.Filter(target.__EVENTS__[ev],(fl)=> {\n                if (F.funcBodyEquals(fl.l, listener)) {\n                    target.removeEventListener(ev, fl.f, fl.o);\n                    return false\n                } else {\n                    console.log('notEqual',fl.l.toString(), listener.toString())\n                }\n            });\n        }\n\n        target.__EVENTS__[ev].push({f:f, l:listener, o: options});\n        target.addEventListener(ev, f, options);\n    });\n}\n\nfunction clearEvent(target, event) {\n    if (!scope.isBrowser()) {\n        L.error(\"Events are browser only!\");\n        return\n    }\n    if (!T.isArr(event)) {\n        if (I.contains(event,' ')) {\n            event = event.split(' ').Map((it)=>it.trim())\n        } else\n            event = [event];\n    }\n    target.__EVENTS__ = target.__EVENTS__ || {};\n    if (T.isEmpty(target.__EVENTS__)) return;\n    I.ForEach(event,function (ev) {\n        target.__EVENTS__[ev] = target.__EVENTS__[ev] || [];\n        if (T.isEmpty(target.__EVENTS__[ev])) return;\n\n        I.ForEach(target.__EVENTS__[ev],(fl)=> {\n            target.removeEventListener(ev, fl.f, fl.o);\n            return false\n        });\n        target.__EVENTS__[ev] = [];\n\n    });\n}\n\nmodule.exports = {setEvent, clearEvent};","const T = require(\"../core/types\");\nconst I = require(\"../core/stream\");\n\nclass Classes {\n    static split(className) {\n        return className.trim().replace(/\\s+/,' ').split(' ');\n    }\n    constructor(e) {\n        this.element = e;\n        Object.defineProperty(this, 'items', {\n            get() {\n                return this.classes;\n            },\n            set(v) {\n                let upd = false;\n                if (this.classes) upd = true;\n                if (!T.isVal(v) || T.isEmpty(v)) this.classes = [];\n                else if (T.isArr(v)) this.classes = v;\n                else if (T.isStr(v)) this.classes = Classes.split(v);\n                else if (v instanceof DOMTokenList) this.classes = Array.from(v);\n                if (upd)\n                    this.__update__();\n            }\n        });\n        this.items = e.getAttribute('class');\n    }\n\n    static of(e) {\n        return new Classes(e)\n    }\n\n    __update__() {\n        this.element.setAttribute('class', this.classes.join(' '))\n    }\n\n    contains(...c) {\n        c = I.FlatMap(c);\n        return I.All(c, (it)=>I.contains(this.classes, it));\n    }\n\n    add(...c) {\n        c = I.FlatMap(c);\n        I.ForEach(c, (it)=>{\n            if (!this.contains(it)) {\n                this.classes.push(it.toString());\n            }\n        });\n        this.__update__();\n    }\n\n    remove(...c) {\n        c = I.FlatMap(c);\n        let l = this.classes.length;\n        this.classes = I.Filter(this.classes, (it)=>{\n            return !I.Any(c, (ci) => ci.endsWith('*')?it.startsWith(ci.replace('*','')):it===ci);\n        });\n        this.__update__();\n        return l !== this.classes.length\n    }\n\n    toggle(...c) {\n        I.toggle(this.classes, c);\n        this.__update__();\n    }\n}\nObject.seal(Classes);\n\nfunction cls(e) {\n    return Classes.of(e);\n}\n\nfunction addClass(e, ...c) {\n    Classes.of(e).add(c);\n}\n\nfunction removeClass(e, ...c) {\n    Classes.of(e).remove(c);\n}\n\nfunction hasClass(e, ...c) {\n    Classes.of(e).contains(c);\n}\n\nfunction toggleClass(e, ...c) {\n    Classes.of(e).toggle(c);\n}\n\nmodule.exports = {Classes, cls, addClass, hasClass, removeClass, toggleClass}","const T = require(\"../core/types\");\nconst L = require(\"../core/logging\");\nconst {cls} = require(\"../dom/classes\")\n\nfunction $(q, root = document) {\n    if (T.isEl(q)) return Array.of(q);\n    if (T.isEls(q)) return q;\n    if (!T.isStr(q)) {\n        L.error(`Query is not string nor element X.$(${q})`);\n        return null;\n    }\n    if (!T.isEl(root)) {\n        L.error(`Query root is not a node!\\t[X.$(${q}, ${root})]`);\n        return null;\n    }\n    return Array.from(root.querySelectorAll(q));\n}\n\nfunction $$(q, root = document) {\n    if (T.isEl(q)) return Array.of(q);\n    if (!T.isStr(q)) {\n        L.error(`Query is not string nor element X.$$(${q})`);\n        return null;\n    }\n    if (!T.isEl(root)) {\n        L.error(`Query root is not a node!\\t[X.$(${q}, ${root})]`);\n        return null;\n    }\n    return Array.of(root.querySelector(q));\n}\n\nfunction queryOf(e, maxParent, q) {\n    if ((!T.isVal(e) || !T.isEl(e))) {\n        L.error(`\\nQuery generator's first parameter must be Element/Node! CAUSE: X.queryOf(${e}, ${maxParent})`);\n        return null;\n    }\n    maxParent = maxParent || document.body;\n    let gen = e.tagName;\n    q = q || \"\";\n\n    if (e.id) {\n        gen += e.id ? ('#' + e.id) : \"\";\n        return gen + (!(q === \"\") ? ' ' + q : \"\");\n    }\n\n    cls(e).items.forEach(function (value) {\n        gen = gen + (value !== '' ? '.' + value : '')\n    });\n\n    if (gen) {\n        let sibs = $(gen, e.parentElement);\n        if (sibs.length>1) {\n            let idx = Array.from(e.parentElement.children).findIndex(function (i) {\n                return e === i;\n            });\n\n            if (idx > 0) {\n                gen = gen + \":nth-child(\"+(idx+1)+\")\";\n            }\n        }\n    }\n    if (e.parentElement && (e.parentElement !== maxParent) && e.parentElement !== document) {\n\n        return (queryOf(e.parentElement) + \" > \" + gen) + (!(q === \"\") ? ' ' + q : \"\");\n    } else {\n        return gen + (!(q === \"\") ? ' ' + q : \"\");\n    }\n}\n\nmodule.exports = {$, $$, queryOf};","import {debounce} from \"xeer-js/core/functions\";\nimport {$, $$} from \"xeer-js/dom/query\";\nimport {addClass} from \"xeer-js/dom/classes\";\nimport {style} from \"xeer-js/dom/styles\";\nimport {ForEach, item, Max, Min, MinIndex} from \"xeer-js/core/stream\";\nimport {setEvent} from \"xeer-js/dom/event\";\n\nvar singleValueStyleRegex = /^(^-?\\d*(?:\\.\\d+)?)(.*)$/;\n\nfunction parseSingleValueStyle(str) {\n    var v = singleValueStyleRegex.exec(str);\n    return {\n        value: parseFloat(v[1]) || \"\",\n        unit: v[2] || \"\"\n    }\n}\n\nfunction mathAbs(n) {\n    return n >= 0 ? n : -n;\n}\n\nfunction Slyde(container, {sticky=false, rtl=false, verticalScroll=false, onchange, onchanging}) {\n    var self = this;\n    self._cnt = $$(container)[0];\n    self._sld = $$(\".slyde-wrapper\", self._cnt)[0];\n    self.leftArrow = $$(\".slyde-left-arrow\", self._cnt)[0];\n    self.rightArrow = $$(\".slyde-right-arrow\", self._cnt)[0];\n    self.isdown = false;\n    self.transX = 0;\n    self.lastPointerX = self._cnt.pageX;\n    self.lastPointerY = self._cnt.pageY;\n    self.lastDif = null;\n    self.moves = 0;\n    self.items = [];\n    self.sticky = sticky;\n    self.osThresh = 0.2;\n    self.osThreshCI = 0.52;\n    self._rtl = rtl;\n    if (self._rtl) {\n        addClass(self._cnt, 'slyde-rtl')\n    }\n    self._vertScroll = verticalScroll;\n    self.stopped = false;\n\n    self.onchange = onchange\n    self.onchanging = onchanging;\n\n    self._debounceChange = debounce((s, c, v)=>{\n        self.onchange && self.onchange(s,c,v);\n    }, 200);\n\n\n    self.minOf = function (a, b) {\n        return a < b ? a : b\n    };\n\n    self.maxOf = function (a, b) {\n        return a > b ? a : b\n    };\n\n    self._limit = function (v, a, b) {\n        var mi = self.minOf(a, b);\n        var ma = self.maxOf(a, b);\n        if (v <= mi) return mi\n        if (v >= ma) return ma\n        return v\n    };\n\n    self._itemL = function (i) {\n        return i.offsetLeft;\n    }\n\n    self._itemW = function (i) {\n        return i.offsetWidth\n    }\n\n    self._scrollW = function () {\n        var sw = 0;\n        ForEach(self.items, function (i) {\n            sw += self._itemW(i)\n        });\n        return sw\n    }\n\n    self._calcHeight = function () {\n        return Max(self.items, function (i) {\n            return i.offsetHeight\n        }).clientHeight;\n    }\n\n    self._thr = function () {\n        return self.sticky ? self.osThreshCI : self.osThresh\n    }\n\n    self._leftLimit = function (thr) {\n        thr = thr || self._thr();\n        return self._cnt.offsetWidth * (thr);\n    }\n\n    self._rightLimit = function (thr) {\n        thr = thr || self._thr();\n        return (self._sld.offsetWidth - self._cnt.offsetWidth * ((1 - thr)))\n    }\n\n    self._slideTo = function (x, upd) {\n        style(self._sld, \"left\", x + \"px\");\n        upd && self._update();\n    }\n\n    self._debounceStick = debounce(() => {\n        try {\n            self.isdown = false;\n            style(self._sld, \"transition\", \"all 0.2s ease-out\");\n            self.transX = self.itemX(self.centerItemIndex());\n            self._slideTo(self.transX);\n        } catch (e) {\n            console.error(self.centerItemIndex());\n        }\n    }, 100)\n    // self._sxt;\n    self._slideX = function (x, sticky, time, limit) {\n        if (limit === undefined) limit = true;\n        time = time || 0.4;\n        style(self._sld, \"transition\", \"all \" + (time / 2).toPrecision(4) + \"s ease-out\");\n        self.transX += x;\n        if (limit)\n            self.transX = self._limit(self.transX, self._leftLimit(), -self._rightLimit());\n        if (sticky) {\n            self.isdown = true;\n            self._debounceStick()\n        }\n        self._slideTo(self.transX, sticky);\n        self._update(true);\n\n    }\n\n    self.bounce = function (dir, sticky, limit) {\n        sticky = sticky || true;\n        dir = dir || 1;\n        var minW = Min(self.items, function (i) {\n            return i.offsetWidth\n        }).offsetWidth;\n\n        var maxW = Max(self.items, function (i) {\n            return i.offsetWidth\n        }).offsetWidth;\n\n        self._slideX(dir * (maxW + minW) / 2, sticky, undefined, limit);\n    }\n\n    self.slideToIndex = function (i) {\n        self._slideX(self.itemX(i) - self.transX, undefined, undefined, false);\n    }\n\n    self._start = function (e, el) {\n        if (e.touches && e.touches.length > 1) return;\n        self.isdown = true;\n        self.lastPointerX = e.pageX || e.touches[0].pageX;\n        style(el, \"transition\", \"none\");\n    };\n\n    self._move = function (e, el) {\n        if (self.stopped) {\n            return;\n        }\n        if (!self.isdown) return;\n        if (e.touches && e.touches.length > 1) return;\n        var pageX = e.pageX || e.changedTouches[0].pageX;\n        var dif = pageX - self.lastPointerX;\n        var pageY = e.pageY || e.changedTouches[0].pageY;\n        var difY = pageY - self.lastPointerY;\n        if (!self._vertScroll && mathAbs(difY) > 0) {\n            return;\n        }\n        if (dif !== 0) {\n            self.transX += dif;\n            self.lastPointerX = pageX;\n            self.lastDif = dif * 1.2;\n            self.transX = self._limit(self.transX, self._leftLimit(), -self._rightLimit())\n            self._slideTo(self.transX);\n        }\n    };\n\n    self._finish = function (e, el) {\n        if (!self.isdown) return;\n        self.isdown = false;\n        var time = 0;\n        time = ((mathAbs(self.lastDif)) / 50).toPrecision(3);\n        time = self._limit(time, 0.3, 0.5);\n        self._slideX(self.lastDif * 10, self.sticky, time);\n        self.lastDif = 0;\n    };\n\n    self._debounceBounce = debounce((dif) => {\n        self.isdown = false;\n        self.bounce(dif > 0 ? 0.6 : -0.6, self.sticky);\n        self._update();\n    }, 50)\n    self._wheel = function (e, el) {\n        if (e.deltaY) {\n            if (!self._vertScroll) return;\n            e.preventDefault();\n        }\n        var rtl = self._rtl ? 1 : -1;\n        var dif = (e.deltaX) || (e.deltaY * rtl);\n        self.isdown = true;\n        self._debounceBounce(dif)\n    };\n\n    self.setHeight = function (h) {\n        style(self._sld, \"height\", h + \"px\");\n        style(self._cnt, \"height\", h * 1.005 + \"px\");\n    }\n\n    self._updateHeight = function () {\n        var sbh = self._calcHeight() + (parseSingleValueStyle(style(self._sld, \"border-bottom\")).value * 2);\n        self.setHeight(sbh);\n    }\n\n    self._addItem = function (item) {\n        self.items.push(item)\n    }\n\n    self._assignEventHandlers = function () {\n        setEvent(self._sld, [\"mousedown\", \"touchstart\"], self._start);\n\n        setEvent(self._sld, [\"mousemove\", \"touchmove\"], self._move);\n\n        setEvent(self._sld, [\"mouseleave\", \"mouseup\", \"touchend\"], self._finish);\n\n        setEvent(self._sld, \"wheel\", self._wheel);\n\n        self.leftArrow && setEvent(self.leftArrow, \"click\", function () {\n            self.bounce(1);\n        });\n\n        self.rightArrow && setEvent(self.rightArrow, \"click\", function () {\n            self.bounce(-1);\n        });\n    }\n\n    self._setup = function () {\n        $(\".slyde-item\", self._sld).forEach(function (i) {\n            self._addItem(i);\n        });\n        self._assignEventHandlers();\n        self.transX = self.itemX(0);\n        self._slideTo(self.transX);\n\n        self._updateHeight();\n    }\n\n\n    self._update = function () {\n        var vi = [];\n        var cw = self._cnt.offsetWidth;\n        var tx = self.transX;\n        var xl = -tx;\n        var xr = -tx + cw;\n        self.items.forEach(function (i, idx) {\n            var iw = i.offsetWidth;\n            var il = i.offsetLeft;\n            var ir = il + iw;\n            if ((il < xr && ir > xl)) {\n                vi.push(idx);\n            }\n        });\n\n        self.onchanging && self.onchanging(self, self.centerItemIndex(), vi);\n\n        self._debounceChange(self, self.centerItemIndex(), vi)\n    }\n\n    self.start = function () {\n        self.stopped = false;\n        self._update();\n    }\n    self.stop = function () {\n        self.stopped = true;\n    }\n\n    self.itemX = function (i) {\n        let it = item(self.items, i);\n        return -it.offsetLeft + (self._cnt.offsetWidth / 2 - it.offsetWidth / 2);\n    }\n    self.itemXitem = function (i) {\n        return -i.offsetLeft + (self._cnt.offsetWidth / 2 - i.offsetWidth / 2);\n    }\n    self.itemAbsDistance = function (idx) {\n        return mathAbs(self.itemX(idx) - self.transX)\n    }\n    self.centerItemIndex = function (debug=false) {\n        return MinIndex(self.items, function (i, idx) {\n            return self.itemAbsDistance(idx)\n        }, debug);\n    }\n\n    self.stop = function () {\n        clearInterval(self.interval)\n    }\n\n    self._setup();\n\n}\n\nglobal.Slyde = Slyde;"],"names":["$parcel$global","globalThis","self","window","global","bodyOf","func","toString","match","$f95530606cd7ca6c356cb1044c1d0b$exports","funcBodyEquals","f1","f2","throttle","intervalMs","___last___","Date","getTime","args","call","this","debounce","afterMs","___timeout___","caller","_this","apply","clearTimeout","_len","arguments","length","Array","_key","setTimeout","isUnd","x","undefined","isNull","isVal","isFun","isObj","$d23fdb20304398ce6df39ef3b25ad92$var$_typeof","hasField","obj","field","pred","hasOwnProperty","$d23fdb20304398ce6df39ef3b25ad92$exports","isNum","isStr","String","isArr","isPrim","isList","item","isMutableList","add","isEl","Element","HTMLElement","Node","isEls","HTMLCollection","NodeList","isEmpty","Object","keys","Enum","src","c","MAP","_i","_Object$keys","i","Set","items","$d23fdb20304398ce6df39ef3b25ad92$var$_classCallCheck","indexOf","push","splice","dict","o","logTitle","flag","concat","t","getHours","getMinutes","getSeconds","getMilliseconds","prepareLog","lt","reverse","LogLevels","TRACE","INFO","WARN","ERROR","SILENT","Config","LogLevel","lvl","l","merge","target","k","$df97e194c24df01a65b1b07efb74d$var$_typeof","$b9b4f400bb2912e2fa761a61b2f7$exports","showTrace","showInfo","showWarn","showError","silent","trace","console","X","info","_len2","_key2","log","warn","_len3","_key3","error","_len4","_key4","Extension","types","$df97e194c24df01a65b1b07efb74d$var$_classCallCheck","$df97e194c24df01a65b1b07efb74d$var$_defineProperty","namedFunc","name","err","_step","code","_iterator","$df97e194c24df01a65b1b07efb74d$var$_createForOfIteratorHelper","s","n","done","p","value","e","f","pcode","_step2","_iterator2","isBrowser","document","navigator","$df97e194c24df01a65b1b07efb74d$exports","mergeAll","res","_i2","_Object$keys2","setGlobal","_X_LOOP_BREAK_","Symbol","_X_ANY_","_X_ALL_","BREAK","ANY","ALL","contains","v","ForEach","vi","remove","it","FlatMap","any","idx","objMatchOne","_m","objMatchAll","_m2","funOrEq","def","inc","RegExp","test","funOrKey","key","Error","$fc679b4f4c458470bd27133663df8448$var$_typeof","DeepClone","_ref","_ref$skips","skips","_ref$maxLevel","maxLevel","cl","val","DeepConcat","o1","o2","d","_i3","len","ForEachRTL","range","r","FirstIndex","First","LastIndex","Last","Any","fn","filterS","right","loop","filterO","a","filterA","Filter","MaxIndex","list","mx","index","ix","MinIndex","mn","mapA","mapO","$fc679b4f4c458470bd27133663df8448$exports","toggle","ForRange","start","end","ArrayForEach","arr","from","rev","slice","ArrayForEachRTL","StartsWith","EndsWith","Reverse","All","FilterRTL","Map","keyValuePairs","object","entries","spread","spreadAll","Max","Min","emptyStyle","style","cs","getComputedStyle","$abac8ddd549d5ed22b4a6e66244f5$exports","hasStyle","$cd5bb78d566a944c4f1c777508dfb88a$exports","setEvent","event","listener","options","split","trim","__EVENTS__","ev","fl","removeEventListener","addEventListener","clearEvent","Classes","$c019541fe5b8e60522c239ab9de08$var$_classCallCheck","element","defineProperty","get","classes","set","upd","DOMTokenList","__update__","getAttribute","className","replace","setAttribute","join","_this2","ci","endsWith","startsWith","seal","cls","$c019541fe5b8e60522c239ab9de08$exports","of","addClass","_len5","_key5","hasClass","_len7","_key7","removeClass","_len6","_key6","toggleClass","_len8","_key8","$","q","root","querySelectorAll","$de89b0497f5f049d0458cb6fb774c1$exports","$$","querySelector","queryOf","maxParent","body","gen","tagName","id","forEach","parentElement","children","findIndex","singleValueStyleRegex","mathAbs","Slyde","container","_ref$sticky","sticky","_ref$rtl","rtl","_ref$verticalScroll","verticalScroll","onchange","onchanging","_cnt","_sld","leftArrow","rightArrow","isdown","transX","lastPointerX","pageX","lastPointerY","pageY","lastDif","moves","osThresh","osThreshCI","_rtl","_vertScroll","stopped","_debounceChange","minOf","b","maxOf","_limit","mi","ma","_itemL","offsetLeft","_itemW","offsetWidth","_scrollW","sw","_calcHeight","offsetHeight","clientHeight","_thr","_leftLimit","thr","_rightLimit","_slideTo","_update","_debounceStick","itemX","centerItemIndex","_slideX","time","limit","toPrecision","bounce","dir","minW","maxW","slideToIndex","_start","el","touches","_move","changedTouches","dif","difY","_finish","_debounceBounce","_wheel","deltaY","preventDefault","deltaX","setHeight","h","_updateHeight","str","sbh","exec","parseFloat","unit","_addItem","_assignEventHandlers","_setup","cw","tx","xl","xr","iw","il","stop","itemXitem","itemAbsDistance","debug","clearInterval","interval"],"version":3,"file":"slyde.js.map"}